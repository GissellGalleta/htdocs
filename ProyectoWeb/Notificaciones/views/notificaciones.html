<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Notificaciones</title>
  <!-- Meta tags para responsividad -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome para íconos -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link href="/ProyectoWeb/Notificaciones/css/notificaciones.css" rel="stylesheet">
</head>
<body>
  <!-- Header (Navbar y Sidebar) -->
  <div id="header"></div>

  <!-- Contenido Principal -->
  <main class="container" style="margin-top: 80px;">
    <h2 class="mb-4">Notificaciones</h2>
    <div id="listaNotificaciones" class="list-group">
      <!-- Las notificaciones se cargarán aquí dinámicamente -->
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3 fixed-bottom">
    <div class="container">
      <p>&copy; 2024 ItverCode. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Bootstrap JS y Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Scripts personalizados -->
  <script src="/ProyectoWeb/Notificaciones/js/notificaciones.js"></script>
  <script>
    // Cargar el header y las notificaciones al cargar la página
    window.onload = function() {
      // Obtener el tipo de usuario
      const urlParams = new URLSearchParams(window.location.search);
      const userType = urlParams.get('user') || localStorage.getItem('userType') || 'empresa'; // Valor por defecto

      // Construir la ruta del header dependiendo del tipo de usuario
      const headerPath = `/ProyectoWeb/Notificaciones/components/header.html`;

      cargarComponente('header', headerPath, function() {
        inicializarSidebar();
        cargarImagenPerfil();
      });

      cargarNotificaciones(userType);
    }
  </script>
</body>
</html>
