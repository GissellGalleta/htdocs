<!-- /estudiantes/views/dashboard.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Estudiantes</title>
  <!-- Meta tags para responsividad -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome para íconos -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link href="../css/estudiantes.css" rel="stylesheet">
  <link href="../css/notificaciones.css" rel="stylesheet"> <!-- Asegúrate de enlazar el CSS de notificaciones -->
</head>
<body>
  <!-- Header (Navbar y Sidebar) -->
  <div id="header"></div>

  <!-- Contenido Principal -->
  <main class="container" style="margin-top: 80px;">
    <!-- Título centrado -->
    <h2 class="text-center mb-4" id="tituloProyectos">Proyectos</h2>
    <!-- Listado de proyectos -->
    <div class="row" id="proyectosLista">
      <!-- Las tarjetas de proyectos se cargarán aquí mediante JavaScript -->
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3 fixed-bottom">
    <div class="container">
      <p>&copy; 2024 ItverCode. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Bootstrap JS y Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
  <!-- Scripts personalizados -->
  <script src="../js/estudiantes.js" defer></script>
  <script defer>
    // Función para manejar cambios en el hash de la URL
    function handleHashChange() {
      const hash = window.location.hash.substring(1); // Quitar el '#'
      if (hash === 'disponibles' || hash === 'mis') {
        currentView = hash;
      } else {
        currentView = 'dashboard'; // Vista por defecto
      }
      cargarDashboard();
    }

    // Cargar el header y el contenido del Dashboard al cargar la página
    window.addEventListener('load', function() {
      cargarComponente('header', '../components/header.html', function() {
        // Inicializar el sidebar y cargar la imagen de perfil
        inicializarSidebar();
        cargarImagenPerfil();
        
        // Agregar listeners a los enlaces del sidebar
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        sidebarLinks.forEach(link => {
          link.addEventListener('click', (event) => {
            // No es necesario prevenir el default, ya que los enlaces ahora navegan a dashboard.html con hash
            // toggleSidebar(false); // Opcional: cerrar el sidebar después de seleccionar
          });
        });

        // Manejar la navegación con los botones del navegador
        window.addEventListener('popstate', handleHashChange);

        // Cargar la vista según el hash inicial de la URL
        handleHashChange();
      });
    });

    // Escuchar cambios en el hash para cargar la vista correspondiente
    window.addEventListener('hashchange', handleHashChange);
  </script>
</body>
</html>
