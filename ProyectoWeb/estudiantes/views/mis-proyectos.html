<!-- /estudiantes/views/mis-proyectos.html -->
<div>
    <script>
      // Asegúrate de que 'estudiante' ya esté definida globalmente por 'estudiantes.js'.
      
      (function() {
        const tituloProyectos = document.getElementById('tituloProyectos');
        const proyectosLista = document.getElementById('proyectosLista');
  
        if (tituloProyectos) {
          tituloProyectos.textContent = 'Mis Proyectos';
        } else {
          console.error('El elemento con ID "tituloProyectos" no se encontró en el DOM.');
        }
  
        if (proyectosLista) {
          proyectosLista.innerHTML = ''; // Limpiar contenido previo
  
          estudiante.proyectosActivos.forEach(proyecto => {
            const proyectoCol = document.createElement('div');
            proyectoCol.classList.add('col-md-4');
  
            const proyectoCard = document.createElement('div');
            proyectoCard.classList.add('card', 'mb-4');
  
            // Imagen del proyecto
            const img = document.createElement('img');
            img.src = proyecto.imagen || '../assets/default-project.jpg';
            img.classList.add('card-img-top');
            img.alt = proyecto.titulo;
  
            // Cuerpo de la tarjeta
            const cardBody = document.createElement('div');
            cardBody.classList.add('card-body');
  
            const titulo = document.createElement('h5');
            titulo.classList.add('card-title');
            titulo.textContent = proyecto.titulo;
  
            const estado = document.createElement('p');
            estado.classList.add('card-text');
            estado.innerHTML = `<strong>Estado:</strong> ${proyecto.estado}`;
  
            const progreso = document.createElement('p');
            progreso.classList.add('card-text');
            progreso.innerHTML = `<strong>Progreso:</strong> ${proyecto.progreso}%`;
  
            const botonVerDetalles = document.createElement('button');
            botonVerDetalles.classList.add('btn', 'btn-success');
            botonVerDetalles.textContent = 'Ver Detalles';
            botonVerDetalles.onclick = function () {
              verDetalleProyecto(proyecto.id);
            };
  
            // Agregar elementos al cardBody
            cardBody.appendChild(titulo);
            cardBody.appendChild(estado);
            cardBody.appendChild(progreso);
            cardBody.appendChild(botonVerDetalles);
  
            // Agregar imagen y cardBody a la tarjeta
            proyectoCard.appendChild(img);
            proyectoCard.appendChild(cardBody);
  
            // Agregar la tarjeta a la columna
            proyectoCol.appendChild(proyectoCard);
  
            // Agregar la columna al contenedor
            proyectosLista.appendChild(proyectoCol);
          });
        } else {
          console.error('El elemento con ID "proyectosLista" no se encontró en el DOM.');
        }
      })();
    </script>
  </div>
  